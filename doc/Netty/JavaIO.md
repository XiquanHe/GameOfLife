# Java I/O
## I/O 交互
一个网络输入操作应该包含下面两步
* 数据到达网卡（缓存1），数据写入内核
* 从内核复制数据到用户空间，进程读取 -- recv

如果数据源源不断的到来,应用程序很容易获取最大吞吐，但是应用程序经常处于挂起状态，等待

## I/O 模型
[参考](https://www.zhihu.com/question/32163005)
* 阻塞I/O
>   1. 特点：I与O，等待数据和拷贝数据的阶段，用户进程都是阻塞的状态
>   2. 应用：Java BIO, 阻塞Socket，Socket I/O是阻塞的
>   3. 优点：
>  * 进程阻塞挂起不消耗CPU，取到可以立即返回;
>  * 简单
>  * 并发小时吞吐量高
>   4. 缺点：
>  * 高并发gg
>  * 每个请求都是单独的线程

* 非阻塞I/O
>   1. 特点：轮询
>   2. 应用：SOCKET.set(NON_BLOCK)
>   3. 优点：简单
>   4. 缺点：
>   * CPU直接梭哈
>   * 并发小
* IO多路复用
>   1. 特点：Socket设置为非阻塞，但是用户进程是被select阻塞，内核需要
>   2. 应用：
>   3. 优点：简单
>   4. 缺点：
![avatar](https://pic3.zhimg.com/v2-d67eb5cc4b947eed8b19846d4ed85cb5_r.jpg?source=1940ef5c)

* 信号驱动
* 全异步